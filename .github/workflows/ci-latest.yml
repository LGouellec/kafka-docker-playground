name: CI with latest CP version

on:
  # push:
  #    branches:
  #      - master

  schedule:
      - cron: '0 18 * * *' # every day at 6 pm

  workflow_dispatch:
    inputs:
      test_name:
        description: 'test to run'
        required: false
        default: ''

jobs:
  call-workflow-ci-latest:
    uses: vdesabou/kafka-docker-playground/.github/workflows/ci.yml@master
    with:
      tag: "6.2.1"
      test_name: "${{ github.event.inputs.test_name }}"
    secrets:
      AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
      AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
      AZ_USER: ${{ secrets.AZ_USER }}
      AZ_PASS: ${{ secrets.AZ_PASS }}
      SECRETS_ENCRYPTION_PASSWORD: ${{ secrets.SECRETS_ENCRYPTION_PASSWORD }}